(this["webpackJsonpbubby-client"]=this["webpackJsonpbubby-client"]||[]).push([[0],{56:function(e,n,t){e.exports=t(76)},76:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(43),i=t.n(o),c=t(21),l=t(53),u=t(55),s=t(52),m=t(8),d=t(51),g=t(2),b=t(11),p=t(10),f=t(23),h=t(20),v=t(5),w=function(e){return e.theme.color.background},E=function(e){return e.theme.color.text},y=function(e){return e.theme.spacing.default},x=function(e){return e.theme.spacing.large};function j(){var e=Object(v.a)(["\n  body {\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    color: ",";\n    background: ",";\n  }\n  a {\n    text-decoration: none;\n    color: ",";\n  }\n"]);return j=function(){return e},e}var O={color:{background:"#FFFFFF",link:"#000",buttonText:"#fffffe",text:"#000",secondary:"#000"},grid:{maxWidth:"1600px",width:"800px",fullPageFormWidth:"90%"},spacing:{default:"10px",borderRadius:"4px",border:"1px",large:"50px"},font:{small:"12px",medium:"14px"}},k=Object(p.b)(j(),E,w,(function(e){return e.theme.color.link})),S=t(22),C=t(12),$=t(19),N=t.n($),P=t(16),F=t(32),A=function(){};function W(){var e=Object(v.a)(["\n  line-height: 1rem;\n  user-select: none;\n  position: relative;\n  text-align: center;\n  display: inline-block;\n  vertical-align: middle;\n  white-space: nowrap;\n  background-image: none;\n  cursor: pointer;\n  filter: none;\n  font-weight: 600;\n  color: rgb(255, 255, 255);\n  background-color: black;\n  font-size: 1rem;\n  min-height: 48px;\n  border-radius: 2px;\n  border-width: 1px;\n  border-style: solid;\n  transition: all 450ms cubic-bezier(0.23, 1, 0.32, 1) 0ms;\n  text-decoration: none;\n  border-color: black;\n  padding: 0.9rem 2rem;\n  &:hover {\n    color: rgb(255, 255, 255);\n    background-color: rgb(47, 140, 174);\n    border-color: rgb(47, 140, 174);\n    text-decoration: none !important;\n  }\n"]);return W=function(){return e},e}var q=p.c.button(W()),D=r.a.memo((function(e){var n=e.onClick,t=void 0===n?A:n,a=e.children,o=void 0===a?"":a,i=Object(F.a)(e,["onClick","children"]);return r.a.createElement(q,Object.assign({onClick:t},i),o)}));function L(){var e=Object(v.a)(["\n  font-size: ",";\n  input {\n    border: none;\n    border-bottom: 1px solid grey;\n    background: transparent;\n    box-shadow: 0 0 0 1000px "," inset;\n    -webkit-box-shadow: 0 0 0px 1000px "," inset;\n    outline: none;\n    padding: "," 0;\n    width: 100%;\n    color: "," !important;\n  }\n\n  input::placeholder,\n  input:-webkit-autofill,\n  input:-webkit-autofill:focus,\n  input:-webkit-autofill:active {\n    box-shadow: 0 0 0 1000px "," inset;\n    -webkit-text-fill-color: ",";\n  }\n"]);return L=function(){return e},e}var z=p.c.label(L(),(function(e){return e.theme.font.medium}),w,w,y,E,w,E),R=function(e){var n=e.name,t=void 0===n?"":n,a=e.onChange,o=void 0===a?A:a,i=e.onKeyPress,c=void 0===i?A:i,l=e.placeholder,u=void 0===l?"":l,s=(e.type,e.value),m=Object(F.a)(e,["name","onChange","onKeyPress","placeholder","type","value"]);return r.a.createElement(z,null,t,r.a.createElement("br",null),r.a.createElement("input",Object.assign({placeholder:u,onChange:function(e){o&&o(e)},onKeyPress:c,value:s},m,{"data-lpignore":"true"})))};function U(){var e=Object(v.a)(["\n  a {\n    font-size: ",";\n  }\n\n  > * {\n    width: 100%;\n    display: block;\n    margin-bottom: ",";\n  }\n\n  img {\n    width: auto;\n    margin: 20px auto;\n    height: 40px;\n    display: block;\n  }\n\n  h1,\n  a,\n  div {\n    text-align: center;\n  }\n"]);return U=function(){return e},e}var _=p.c.form(U(),(function(e){return e.theme.font.small}),y);function M(e){var n=e.onSubmit,t=void 0===n?A:n,a=e.children,o=void 0===a?"":a;return r.a.createElement(_,{onSubmit:function(e){return t(e)}},o)}function T(){var e=Object(v.a)(["\n  @media (min-width: ",") {\n    max-width: ",";\n    padding: ",";\n    margin: 0 auto;\n  }\n"]);return T=function(){return e},e}function B(){var e=Object(v.a)(["\n  max-width: ",";\n  margin: "," auto ",";\n"]);return B=function(){return e},e}function K(){var e=Object(v.a)(["\n  margin: "," auto ",";\n  max-width: 365px;\n"]);return K=function(){return e},e}var I=p.c.div(K(),x,y),J=p.c.div(B(),(function(e){return e.theme.grid.width}),x,y),Q=(p.c.div(T(),(function(e){return e.theme.grid.fullPageFormWidth}),(function(e){return e.theme.grid.maxWidth}),y),t(79));function G(){var e=Object(v.a)(["\n  mutation login($email: String!, $password: String!) {\n    login(email: $email, password: $password)\n  }\n"]);return G=function(){return e},e}var H=N()(G());function V(e){var n=Object(a.useState)({}),t=Object(C.a)(n,2),o=t[0],i=t[1],c=Object(P.c)(H),l=Object(C.a)(c,2),u=l[0],s=l[1].data,m=Object(P.a)();return s&&"The password is invalid or the user does not have a password."!==s.login&&"Too many unsuccessful login attempts. Please try again later."!==s.login?r.a.createElement(h.a,{to:"/dashboard"}):r.a.createElement(I,null,r.a.createElement(M,{onSubmit:function(e){e.preventDefault(),o&&u({variables:o}).catch((function(e){m.writeData({data:{errors:e}})}))}},r.a.createElement(Q.a,{size:80,mood:"happy",color:"#83D1FB"}),r.a.createElement(R,{onChange:function(e){return i(Object(S.a)({},o,{email:e.target.value}))},name:"Email",type:"email",required:!0}),r.a.createElement(R,{onChange:function(e){return i(Object(S.a)({},o,{password:e.target.value}))},name:"Password",type:"password",required:!0}),r.a.createElement(D,null,"Sign In"),r.a.createElement(f.b,{to:"/forgot-password"},"Forgot password?"),r.a.createElement(f.b,{to:"/signup"},"Don't have an account? Sign Up")))}var X=t(54),Y=function(e){var n=e.author,t=e.message;return r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("strong",null,n,":"),"\xa0",r.a.createElement("span",null,t))};function Z(){var e=Object(v.a)(["\n  background: #fff;\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\n  height: 500px;\n  margin-bottom: 25px;\n  padding: 50px;\n  flex-direction: column;\n  justify-content: space-between;\n  display: flex;\n\n  .ChatContainer {\n    &__input-container {\n      display: flex;\n\n      > :first-child {\n        flex-grow: 1;\n      }\n\n      > :last-child {\n        margin-left: 15px;\n      }\n    }\n  }\n"]);return Z=function(){return e},e}var ee=p.c.div(Z());ee.displayName="ChatContainer";var ne=ee;function te(){var e=Object(v.a)(["\n  mutation addMessage($author: String!, $message: String!) {\n    addMessage(author: $author, message: $message) {\n      author\n      message\n    }\n  }\n"]);return te=function(){return e},e}function ae(){var e=Object(v.a)(["\n  subscription onMessageAdded {\n    messageAdded {\n      author\n      message\n    }\n  }\n"]);return ae=function(){return e},e}var re=N()(ae()),oe="",ie=N()(te()),ce=r.a.memo((function(e){var n=e.name,t=Object(a.useState)(""),o=Object(C.a)(t,2),i=o[0],c=o[1],l=Object(P.c)(ie),u=Object(C.a)(l,1)[0],s=function(e){c(""),u({variables:{author:n,message:e}}).catch(A)};return r.a.createElement("div",{className:"ChatContainer__input-container"},r.a.createElement(R,{onChange:function(e){var n=e.target.value;return c(n)},onKeyPress:function(e){"Enter"===e.key&&i&&s(i)},placeholder:"enter your message...",value:i}),r.a.createElement(D,{onClick:function(){i&&s(i)}},"Send Message"))})),le=function(){var e=Object(a.useState)("bubby"),n=Object(C.a)(e,2),t=n[0],o=(n[1],Object(a.useState)([{author:"Admin",message:"Don't be shy, say something!"}])),i=Object(C.a)(o,2),c=i[0],l=i[1],u=Object(P.d)(re),s=u.data;if(u.error)return r.a.createElement(r.a.Fragment,null,'"you broke it you buy it!"');if((null===s||void 0===s?void 0:s.messageAdded)&&s.messageAdded.message!==oe){var m=s.messageAdded,d=m.author,g=m.message;l([].concat(Object(X.a)(c),[{author:d,message:g}])),oe=g}return r.a.createElement(ne,{className:"ChatContainer"},r.a.createElement("div",null,r.a.createElement("article",{className:"ChatContainer__message-container"},c.map((function(e,n){var t=e.author,a=e.message;return r.a.createElement(Y,{author:t,key:n,message:a})})))),r.a.createElement(ce,{name:t}))};function ue(){return r.a.createElement(J,null,r.a.createElement(le,null))}function se(){var e=Object(v.a)(["\n  mutation signup(\n    $email: String!\n    $password: String!\n    $firstName: String!\n    $lastName: String!\n  ) {\n    signup(\n      email: $email\n      password: $password\n      firstName: $firstName\n      lastName: $lastName\n    )\n  }\n"]);return se=function(){return e},e}var me=N()(se());function de(){var e=Object(a.useState)({}),n=Object(C.a)(e,2),t=n[0],o=n[1],i=Object(P.c)(me),c=Object(C.a)(i,2),l=c[0];return c[1].data?r.a.createElement(h.a,{to:"/"}):r.a.createElement(I,null,r.a.createElement(M,{onSubmit:function(e){e.preventDefault(),t&&l({variables:t})}},r.a.createElement(R,{onChange:function(e){return o(Object(S.a)({},t,{firstName:e.target.value}))},name:"First Name",required:!0}),r.a.createElement(R,{onChange:function(e){return o(Object(S.a)({},t,{lastName:e.target.value}))},name:"Last Name",required:!0}),r.a.createElement(R,{onChange:function(e){return o(Object(S.a)({},t,{email:e.target.value}))},name:"Email",required:!0}),r.a.createElement(R,{onChange:function(e){return o(Object(S.a)({},t,{password:e.target.value}))},name:"Password",type:"password",required:!0}),r.a.createElement(D,{type:"submit"},"Sign Up"),r.a.createElement(f.b,{to:"login"},"Already have an account? Sign in")))}function ge(){var e=Object(v.a)(["\n  query sendPasswordResetEmail($email: String!) {\n    sendPasswordResetEmail(email: $email)\n  }\n"]);return ge=function(){return e},e}var be=N()(ge());function pe(){var e=Object(a.useState)({}),n=Object(C.a)(e,2),t=n[0],o=n[1],i=Object(P.b)(be),c=Object(C.a)(i,2),l=c[0],u=c[1],s=u.called,m=u.data,d=u.error,g=u.loading,b={defaultState:r.a.createElement(M,{onSubmit:function(e){e.preventDefault(),l({variables:{email:t}})}},r.a.createElement("h1",null,"\ud83c\udfd5"),r.a.createElement(R,{name:"Email",onChange:function(e){return o(e.target.value)},required:!0,type:"email"}),r.a.createElement(D,{type:"submit"},"Submit")),loading:"Loading...",error:"Something went wrong. Please try again.",success:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{textAlign:"center"}},r.a.createElement("span",{role:"img","aria-label":"UFO emoji"},"\ud83d\udef8")),r.a.createElement("div",null,"If an account exists, you should receive an email shortly."))},p="defaultState";return s&&(g&&(p="loading"),d&&(p="error"),m&&(p="success")),r.a.createElement(I,null,b[p])}var fe=function(){return r.a.createElement(p.a,{theme:O},r.a.createElement(k,null),r.a.createElement(f.a,null,r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,component:ue}),r.a.createElement(h.b,{path:"/home",exact:!0,component:ue}),r.a.createElement(h.b,{path:"/login",exact:!0,component:V}),r.a.createElement(h.b,{path:"/signup",component:de}),r.a.createElement(h.b,{path:"/forgot-password",component:pe}))))},he=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ve(e,n){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),n&&n.onUpdate&&n.onUpdate(e)):(console.log("Content is cached for offline use."),n&&n.onSuccess&&n.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}t(67);console.log("production");var we={http:{development:"https://bubby-gateway-server.herokuapp.com",production:"https://bubby-gateway-server.herokuapp.com",test:""},ws:{development:"ws://bubby-gateway-server.herokuapp.com/graphql",production:"ws://bubby-gateway-server.herokuapp.com/graphql",test:""}},Ee=new u.a({uri:we.http.production}),ye=new d.a({uri:we.ws.production,options:{reconnect:!0}}),xe=Object(m.d)((function(e){var n=e.query,t=Object(g.l)(n);return"OperationDefinition"===t.kind&&"subscription"===t.operation}),ye,Ee),je=new c.a({link:m.a.from([Object(s.a)((function(e){var n=e.graphQLErrors,t=e.networkError;n&&n.forEach((function(e){var n=e.message,t=e.locations,a=e.path;return console.log("[GraphQL error]: Message: ".concat(n,", Location: ").concat(t,", Path: ").concat(a))})),t&&console.log("[Network error]: ".concat(t))})),xe]),cache:new l.a});i.a.render(r.a.createElement(b.a,{client:je},r.a.createElement(fe,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var n="".concat("","/service-worker.js");he?(!function(e,n){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var a=t.headers.get("content-type");404===t.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ve(e,n)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(n,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ve(n,e)}))}}()}},[[56,1,2]]]);
//# sourceMappingURL=main.7da37411.chunk.js.map